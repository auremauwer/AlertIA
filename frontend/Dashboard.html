<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>AlertIA</title>
    <link rel="icon" type="image/x-icon" href="Alertia.ico" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&amp;family=Noto+Sans:wght@100..900&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ec0000",
                        "primary-black": "#000000",
                        "bg-main": "#fcfcfc",
                        "sidebar-bg": "#ffffff",
                        "border-soft": "#e5e7eb",
                        "text-muted": "#6b7280",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"],
                        "body": ["Noto Sans", "sans-serif"],
                    },
                    borderRadius: { "DEFAULT": "0rem", "lg": "0.125rem", "xl": "0.25rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style type="text/tailwindcss">
        @layer base {
            body {
                @apply bg-bg-main text-primary-black antialiased;
            }
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
            height: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f3f4f6; 
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #d1d5db; 
            border-radius: 2px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #000000; 
        }
.criticidad-card {
            @apply border-l-4 p-5 bg-white shadow-sm hover:shadow-md transition-shadow;
        }
        .material-symbols-outlined.filled {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .kpi-card {
            transition: all 0.3s ease;
            position: relative;
        }
        .download-icon {
            cursor: pointer;
        }
        .download-icon:hover {
            transform: scale(1.1);
        }
    </style>
</head>

<body class="font-display selection:bg-primary selection:text-primary-black">
    <div class="relative flex h-screen w-full overflow-hidden bg-bg-main">
        <aside class="w-64 flex-shrink-0 h-full flex flex-col border-r border-gray-200 bg-white z-20 font-display">
            <div class="flex h-full flex-col justify-between">
                <div class="flex flex-col">
                    <div class="flex items-center gap-3 px-6 py-8">
                        <div class="flex items-center justify-center size-9">
                            <img src="Alertia.ico" alt="AlertIA Logo" class="w-9 h-9 object-contain" />
                        </div>
                        <div class="flex flex-col">
                            <h1 class="text-xl font-extrabold tracking-tighter leading-none">
                                <span class="text-black">Alert</span><span class="text-primary">IA</span>
                            </h1>
                        </div>
                    </div>
                    <nav class="flex flex-col px-3">
                        <a class="flex items-center gap-3 px-4 py-3 bg-gray-100 text-primary border-r-[6px] border-primary transition-all mb-1"
                            href="Dashboard.html">
                            <span class="material-symbols-outlined text-[20px] filled">dashboard</span>
                            <span class="text-sm font-semibold">Dashboard</span>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-black transition-all mb-1"
                            href="Obligaciones.html">
                            <span class="material-symbols-outlined text-[20px]">assignment</span>
                            <span class="text-sm font-semibold">Obligaciones</span>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-black transition-all mb-1"
                            href="Correos.html">
                            <span class="material-symbols-outlined text-[20px]">mail</span>
                            <span class="text-sm font-semibold">Env√≠o de correos</span>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-black transition-all mb-1"
                            href="Historial.html">
                            <span class="material-symbols-outlined text-[20px]">history</span>
                            <span class="text-sm font-semibold">Historial de env√≠os</span>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-black transition-all mb-1"
                            href="Configuraci√≥n.html">
                            <span class="material-symbols-outlined text-[20px]">settings</span>
                            <span class="text-sm font-semibold">Configuraci√≥n</span>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-black transition-all mb-1"
                            href="Auditoria.html">
                            <span class="material-symbols-outlined text-[20px]">list_alt</span>
                            <span class="text-sm font-semibold">Auditor√≠a / Logs</span>
                        </a>
                    </nav>
                </div>
                <div class="flex flex-col gap-2 border-t border-gray-200 p-6">
                    <div class="flex items-center gap-3">
                        <div
                            class="size-8 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center border border-gray-200">
                            <span class="material-symbols-outlined text-gray-500 text-lg">person</span>
                        </div>
                        <div class="flex flex-col">
                            <span class="text-xs font-bold text-black">Analista Riesgos</span>
                            <span class="text-[10px] text-gray-500">Lectura Exclusiva</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
        <main class="flex-1 flex flex-col h-full overflow-hidden">
            <header class="flex-none px-10 py-8 border-b border-border-soft bg-white">
                <div class="flex flex-wrap justify-between items-end gap-4">
                    <div class="flex flex-col gap-2">
                        <div class="flex items-center gap-2 text-primary font-bold text-xs uppercase tracking-[0.2em]">
                            <span class="w-8 h-[1px] bg-primary"></span>
                            Obligaciones Normativas
                        </div>
                        <h2 class="text-primary-black text-4xl font-extrabold tracking-tight">Dashboard Informativo</h2>
                    </div>
                    <div class="flex items-center gap-6">
                        <div class="flex flex-col items-end">
                            <div class="flex items-center gap-2 mb-2">
                                <span
                                    class="bg-neutral-100 text-primary-black border border-neutral-200 px-2 py-1 text-[10px] font-bold uppercase tracking-wider rounded flex items-center gap-1">
                                    üîí Modo manual activo
                                </span>
                            </div>
                            <p class="text-[10px] font-bold text-text-muted uppercase tracking-widest">Fecha de √∫ltima
                                ejecuci√≥n manual</p>
                            <div class="flex items-center gap-2 mt-1">
                                <span class="material-symbols-outlined text-primary text-lg">sync</span>
                                <div class="flex flex-col items-end">
                                    <span class="text-sm font-black text-primary-black leading-none"
                                        data-info="ultima-ejecucion-fecha">-</span>
                                    <span class="text-[10px] font-bold text-text-muted mt-0.5">Ejecutor: <span
                                            data-info="ultima-ejecucion-usuario">-</span> ‚Ä¢ <span
                                            data-info="ultima-ejecucion-volumen">0 Correos</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <div class="flex-1 overflow-y-auto custom-scrollbar bg-bg-main p-10">
                <div class="max-w-[1400px] mx-auto flex flex-col gap-10">
                    <!-- Section: Filters -->
                    <section class="bg-white p-6 border border-border-soft shadow-sm rounded-sm">
                        <!-- Alerta de filas excluidas -->
                        <div id="alert-filas-excluidas" class="hidden mb-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-sm">
                            <div class="flex items-start">
                                <div class="flex-shrink-0">
                                    <span class="material-symbols-outlined text-yellow-600 text-xl">warning</span>
                                </div>
                                <div class="ml-3 flex-1">
                                    <h4 class="text-sm font-bold text-yellow-800 mb-2">Filas excluidas del procesamiento</h4>
                                    <div id="alert-filas-excluidas-content" class="text-xs text-yellow-700 space-y-1"></div>
                                </div>
                                <button id="btn-cerrar-alerta-excluidas" class="ml-4 text-yellow-600 hover:text-yellow-800 transition-colors">
                                    <span class="material-symbols-outlined text-sm">close</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-2 mb-4">
                            <span class="material-symbols-outlined text-primary">filter_alt</span>
                            <h3 class="text-sm font-bold uppercase tracking-wider text-primary-black">Filtros de
                                B√∫squeda</h3>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <!-- Filter: Area -->
                            <div class="flex flex-col gap-1">
                                <label class="text-[10px] font-bold uppercase text-text-muted">√Årea</label>
                                <select id="filter-area"
                                    class="w-full bg-neutral-50 border border-border-soft px-3 py-2 text-xs font-medium focus:ring-1 focus:ring-primary outline-none rounded-sm">
                                    <option value="">Todas las √°reas</option>
                                    <!-- Options populated by JS -->
                                </select>
                            </div>
                            <!-- Filter: Estatus -->
                            <div class="flex flex-col gap-1">
                                <label class="text-[10px] font-bold uppercase text-text-muted">Estatus</label>
                                <select id="filter-estatus"
                                    class="w-full bg-neutral-50 border border-border-soft px-3 py-2 text-xs font-medium focus:ring-1 focus:ring-primary outline-none rounded-sm">
                                    <option value="">Todos los estatus</option>
                                    <!-- Options populated by JS -->
                                </select>
                                </div>
                            <!-- Filter: Sub Estatus -->
                            <div class="flex flex-col gap-1">
                                <label class="text-[10px] font-bold uppercase text-text-muted">Sub estatus</label>
                                <select id="filter-sub-estatus"
                                    class="w-full bg-neutral-50 border border-border-soft px-3 py-2 text-xs font-medium focus:ring-1 focus:ring-primary outline-none rounded-sm">
                                    <option value="">Todos</option>
                                    <!-- Options populated by JS -->
                                </select>
                            </div>
                            <!-- Filter: ID Search -->
                            <div class="flex flex-col gap-1">
                                <label class="text-[10px] font-bold uppercase text-text-muted">Buscar por ID</label>
                                <input id="filter-id" type="text" placeholder="Escriba ID..."
                                    class="w-full bg-neutral-50 border border-border-soft px-3 py-2 text-xs font-medium focus:ring-1 focus:ring-primary outline-none rounded-sm placeholder:text-gray-300">
                            </div>
                        </div>
                    </section>

                    <!-- Section: ID Metrics (Time based) -->
                    <section>
                        <div class="flex items-center gap-3 mb-4">
                            <h3 class="text-primary-black text-lg font-black uppercase tracking-tight">M√©tricas de
                                Vencimiento</h3>
                            <div class="h-px flex-1 bg-border-soft"></div>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-7 gap-4">
                            <!-- Card: Total IDs -->
                            <div
                                class="kpi-card bg-white p-5 border-l-4 border-primary-black shadow-sm flex flex-col min-h-[7rem] cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="total">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-[10px] font-bold uppercase text-text-muted tracking-widest">Total de IDs</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <h2 class="text-4xl font-black text-primary-black leading-none"
                                        data-kpi="total-ids">-</h2>
                                    <span class="material-symbols-outlined text-gray-200 text-3xl">dataset</span>
                                </div>
                            </div>

                            <!-- Card: Vencidos -->
                            <div
                                class="kpi-card bg-white p-5 border-l-4 border-red-900 shadow-sm flex flex-col min-h-[7rem] cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="vencidos">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-[10px] font-bold uppercase text-text-muted tracking-widest">Vencidos</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <h2 class="text-4xl font-black text-red-900 leading-none" data-kpi="ids-vencidos">-</h2>
                                    <span class="material-symbols-outlined text-red-900/20 text-3xl">warning</span>
                                </div>
                            </div>

                            <!-- Card: <= 30 days -->
                            <div
                                class="kpi-card bg-white p-5 border-l-4 border-primary shadow-sm flex flex-col min-h-[7rem] cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="hasta-30">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-[10px] font-bold uppercase text-text-muted tracking-widest">Hasta 30 d√≠as</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <h2 class="text-4xl font-black text-primary leading-none" data-kpi="ids-less-30">-</h2>
                                    <span class="material-symbols-outlined text-primary/20 text-3xl">calendar_month</span>
                                </div>
                            </div>

                            <!-- Card: 31-60 days -->
                            <div
                                class="kpi-card bg-white p-5 border-l-4 border-orange-500 shadow-sm flex flex-col min-h-[7rem] cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="31-60">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-[10px] font-bold uppercase text-text-muted tracking-widest">31 a 60 d√≠as</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <h2 class="text-4xl font-black text-orange-500 leading-none" data-kpi="ids-less-60">-</h2>
                                    <span class="material-symbols-outlined text-orange-500/20 text-3xl">calendar_view_week</span>
                                </div>
                            </div>

                            <!-- Card: 61-90 days -->
                            <div
                                class="kpi-card bg-white p-5 border-l-4 border-yellow-500 shadow-sm flex flex-col min-h-[7rem] cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="61-90">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-[10px] font-bold uppercase text-text-muted tracking-widest">61 a 90 d√≠as</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <h2 class="text-4xl font-black text-yellow-500 leading-none" data-kpi="ids-less-90">-</h2>
                                    <span class="material-symbols-outlined text-yellow-500/20 text-3xl">date_range</span>
                                </div>
                            </div>

                            <!-- Card: > 90 days -->
                            <div
                                class="kpi-card bg-white p-5 border-l-4 border-green-600 shadow-sm flex flex-col min-h-[7rem] cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="mas-90">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-[10px] font-bold uppercase text-text-muted tracking-widest">Mayor a 90 d√≠as</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <h2 class="text-4xl font-black text-green-600 leading-none" data-kpi="ids-more-90">-</h2>
                                    <span class="material-symbols-outlined text-green-600/20 text-3xl">event_available</span>
                                </div>
                            </div>

                            <!-- Card: Sin fecha de vencimiento -->
                            <div
                                class="kpi-card bg-white p-5 border-l-4 border-gray-400 shadow-sm flex flex-col min-h-[7rem] cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="sin-fecha">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-[10px] font-bold uppercase text-text-muted tracking-widest">Sin fecha de vencimiento</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <h2 class="text-4xl font-black text-gray-400 leading-none" data-kpi="ids-sin-fecha">-</h2>
                                    <span class="material-symbols-outlined text-gray-400/20 text-3xl">event_busy</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Section: Status Metrics -->
                    <section>
                        <div class="flex items-center gap-3 mb-4">
                            <h3 class="text-primary-black text-lg font-black uppercase tracking-tight">M√©tricas por
                                Estatus</h3>
                            <div class="h-px flex-1 bg-border-soft"></div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6">
                            <!-- Card: Recordatorio -->
                            <div
                                class="kpi-card bg-white p-6 border border-border-soft shadow-sm rounded-sm flex flex-col cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="recordatorio">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-xs font-bold uppercase text-text-muted">Estatus Recordatorio</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <h3 class="text-3xl font-black text-primary-black" data-kpi="status-recordatorio">-</h3>
                                    <div class="size-12 bg-blue-50 flex items-center justify-center rounded-full">
                                        <span class="material-symbols-outlined text-blue-600 text-2xl">notifications</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Card: Solicitud -->
                            <div
                                class="kpi-card bg-white p-6 border border-border-soft shadow-sm rounded-sm flex flex-col cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="solicitud">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-xs font-bold uppercase text-text-muted">Estatus Solicitud</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                        </div>
                                <div class="flex items-center justify-between">
                                    <h3 class="text-3xl font-black text-primary-black" data-kpi="status-solicitud">-</h3>
                                    <div class="size-12 bg-purple-50 flex items-center justify-center rounded-full">
                                        <span class="material-symbols-outlined text-purple-600 text-2xl">assignment</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Card: Cerrado -->
                            <div
                                class="kpi-card bg-white p-6 border border-border-soft shadow-sm rounded-sm flex flex-col cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="cerrado">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-xs font-bold uppercase text-text-muted">Estatus Cerrado</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <h3 class="text-3xl font-black text-primary-black" data-kpi="status-cerrado">-</h3>
                                    <div class="size-12 bg-green-50 flex items-center justify-center rounded-full">
                                        <span class="material-symbols-outlined text-green-600 text-2xl">check_circle</span>
                                    </div>
                                        </div>
                            </div>

                            <!-- Card: Apagado -->
                            <div
                                class="kpi-card bg-white p-6 border border-border-soft shadow-sm rounded-sm flex flex-col cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="apagado">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-xs font-bold uppercase text-text-muted">Estatus Apagado</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <h3 class="text-3xl font-black text-primary-black" data-kpi="status-apagado">-</h3>
                                    <div class="size-12 bg-gray-100 flex items-center justify-center rounded-full">
                                        <span class="material-symbols-outlined text-gray-600 text-2xl">power_off</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Card: Sin estatus -->
                            <div
                                class="kpi-card bg-white p-6 border border-border-soft shadow-sm rounded-sm flex flex-col cursor-pointer hover:shadow-md transition-all"
                                data-kpi-category="sin-estatus">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-xs font-bold uppercase text-text-muted">Sin Estatus</p>
                                    <span class="material-symbols-outlined download-icon text-gray-400 text-sm hover:text-primary transition-colors" title="Descargar IDs en CSV">download</span>
                                        </div>
                                <div class="flex items-center justify-between">
                                    <h3 class="text-3xl font-black text-primary-black" data-kpi="status-sin-estatus">-</h3>
                                    <div class="size-12 bg-gray-50 flex items-center justify-center rounded-full">
                                        <span class="material-symbols-outlined text-gray-400 text-2xl">help_outline</span>
                                    </div>
                                            </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>
    </div>
    <!-- Cargar scripts de la aplicaci√≥n -->
    <script src="js/app-init.js"></script>
    <script src="js/controllers/dashboard-controller.js"></script>
</body>

</html>